<div class="max-w-7xl mx-auto px-6 py-8">
  <!-- Dashboard Header -->
  <div id="dashboard-header" class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-4xl font-bold text-gray-800 mb-2">Nouvel État des lieux</h1>
      <p class="text-gray-600">Créez un état des lieux détaillé pour votre propriété</p>
      <div class="flex items-center mt-3 space-x-4">
        <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">Nouveau</span>
        <span class="text-gray-500 text-sm">Créé le {{ currentDate }}</span>
      </div>
    </div>
    <div class="flex space-x-3">
      <button (click)="onBackToList()" class="border border-gray-300 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-50 transition-all duration-300 font-medium action-btn">
        <i class="fa-solid fa-arrow-left mr-2"></i>
        Retour à la liste
      </button>
      <button (click)="onSaveDraft()" class="border border-gray-300 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-50 transition-all duration-300 font-medium action-btn">
        <i class="fa-solid fa-save mr-2"></i>
        Enregistrer brouillon
      </button>
      <button (click)="onFinalize()" class="gradient-bg text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all duration-300 font-medium action-btn">
        <i class="fa-solid fa-check mr-2"></i>
        Finaliser l'état des lieux
      </button>
    </div>
  </div>

  <!-- Property Selection Section -->
  <div id="property-selection-section" class="bg-white rounded-2xl border border-gray-200 shadow-lg p-6 mb-8">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">Sélection de la propriété</h2>
    <div class="grid grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-3">Choisir une propriété</label>
        <select 
          class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 focus:border-transparent text-gray-700 form-input"
          (change)="onPropertyChange($event)">
          <option value="">Sélectionnez une propriété...</option>
          <option value="villa-neuilly">Villa Contemporaine - Neuilly-sur-Seine (250m²)</option>
          <option value="appartement-paris">Appartement Hausmannien - Paris 16e (120m²)</option>
          <option value="maison-boulogne">Maison de Ville - Boulogne-Billancourt (180m²)</option>
          <option value="studio-paris">Studio Moderne - Paris 11e (35m²)</option>
          <option value="duplex-levallois">Duplex - Levallois-Perret (95m²)</option>
          <option value="loft-issy">Loft Industriel - Issy-les-Moulineaux (140m²)</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-3">Type d'état des lieux</label>
        <select 
          class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 focus:border-transparent text-gray-700 form-input"
          (change)="onInspectionTypeChange($event)">
          <option value="entree">État des lieux d'entrée</option>
          <option value="sortie">État des lieux de sortie</option>
          <option value="periodique">État des lieux périodique</option>
        </select>
      </div>
    </div>
    
    <div *ngIf="selectedProperty" id="property-details" class="mt-6 p-4 bg-orange-50 border border-orange-200 rounded-lg fade-in">
      <div class="flex items-start space-x-4">
        <img class="w-16 h-16 rounded-lg object-cover" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/85acf719a7-aa91a4d917c138e2e8a2.png" alt="modern villa exterior contemporary architecture">
        <div class="flex-1">
          <h3 class="font-semibold text-gray-800 mb-1">Villa Contemporaine</h3>
          <p class="text-gray-600 text-sm mb-2">15 Avenue des Champs, Neuilly-sur-Seine 92200</p>
          <div class="flex items-center space-x-4 text-sm text-gray-500">
            <span><i class="fa-solid fa-expand-arrows-alt mr-1"></i>250m²</span>
            <span><i class="fa-solid fa-bed mr-1"></i>4 chambres</span>
            <span><i class="fa-solid fa-bath mr-1"></i>3 salles de bain</span>
            <span><i class="fa-solid fa-car mr-1"></i>Garage</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Room Inspection Section -->
  <div class="grid grid-cols-3 gap-8">
    <div class="col-span-2">
      <div id="room-inspection-section" class="bg-white rounded-2xl border border-gray-200 shadow-lg p-6 mb-8">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold text-gray-800">Inspection de la pièce</h2>
          <select id="room-selector" class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent">
            <option>Salon</option>
            <option>Cuisine</option>
            <option>Chambre principale</option>
            <option>Chambre 2</option>
            <option>Chambre 3</option>
            <option>Salle de bain principale</option>
            <option>Salle de bain 2</option>
            <option>WC</option>
            <option>Entrée</option>
            <option>Couloir</option>
            <option>Garage</option>
            <option>Jardin</option>
          </select>
        </div>

        <div id="inspection-tabs" class="flex space-x-4 mb-6 border-b border-gray-200">
          <button class="pb-3 px-1 border-b-2 border-orange-500 text-orange-600 font-medium">État général</button>
          <button class="pb-3 px-1 text-gray-500 hover:text-gray-700">Défauts</button>
          <button class="pb-3 px-1 text-gray-500 hover:text-gray-700">Photos</button>
        </div>

        <div id="general-state-tab">
          <div class="grid grid-cols-2 gap-6 mb-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">État des murs</label>
              <div class="flex space-x-3">
                <button class="px-4 py-2 bg-green-100 text-green-800 rounded-lg border border-green-300 font-medium">Excellent</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Bon</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Moyen</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Mauvais</button>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">État du sol</label>
              <div class="flex space-x-3">
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Excellent</button>
                <button class="px-4 py-2 bg-green-100 text-green-800 rounded-lg border border-green-300 font-medium">Bon</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Moyen</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Mauvais</button>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">État du plafond</label>
              <div class="flex space-x-3">
                <button class="px-4 py-2 bg-green-100 text-green-800 rounded-lg border border-green-300 font-medium">Excellent</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Bon</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Moyen</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Mauvais</button>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">Éclairage</label>
              <div class="flex space-x-3">
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Excellent</button>
                <button class="px-4 py-2 bg-green-100 text-green-800 rounded-lg border border-green-300 font-medium">Bon</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Moyen</button>
                <button class="px-4 py-2 bg-gray-100 text-gray-600 rounded-lg border border-gray-300">Mauvais</button>
              </div>
            </div>
          </div>

          <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">Observations générales</label>
            <textarea class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-orange-500 focus:border-transparent" rows="4" placeholder="Décrivez l'état général de la pièce, les éléments remarquables, etc.">Salon en excellent état général. Peinture récente, parquet en bon état. Éclairage naturel optimal grâce aux grandes baies vitrées. Quelques traces d'usure normale sur les plinthes.</textarea>
          </div>
        </div>
      </div>

      <div id="defects-section" class="bg-white rounded-2xl border border-gray-200 shadow-lg p-6 mb-8">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold text-gray-800">Défauts identifiés</h2>
          <button class="gradient-bg text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 text-sm">
            <i class="fa-solid fa-plus mr-2"></i>
            Ajouter un défaut
          </button>
        </div>

        <div class="space-y-4">
          <div class="border border-red-200 bg-red-50 rounded-lg p-4">
            <div class="flex items-start justify-between">
              <div class="flex-1">
                <div class="flex items-center space-x-3 mb-2">
                  <span class="bg-red-500 text-white px-2 py-1 rounded text-xs font-medium">URGENT</span>
                  <h3 class="font-semibold text-gray-800">Fissure dans le mur</h3>
                </div>
                <p class="text-gray-600 text-sm mb-3">Fissure verticale de 15cm environ sur le mur nord, près de la fenêtre. Nécessite une intervention rapide.</p>
                <div class="flex items-center space-x-4 text-xs text-gray-500">
                  <span><i class="fa-solid fa-map-marker-alt mr-1"></i>Mur nord</span>
                  <span><i class="fa-solid fa-calendar mr-1"></i>15 nov 2024</span>
                  <span><i class="fa-solid fa-camera mr-1"></i>3 photos</span>
                </div>
              </div>
              <div class="flex space-x-2">
                <button class="text-blue-600 hover:text-blue-800 p-1">
                  <i class="fa-solid fa-edit"></i>
                </button>
                <button class="text-red-600 hover:text-red-800 p-1">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
          </div>

          <div class="border border-yellow-200 bg-yellow-50 rounded-lg p-4">
            <div class="flex items-start justify-between">
              <div class="flex-1">
                <div class="flex items-center space-x-3 mb-2">
                  <span class="bg-yellow-500 text-white px-2 py-1 rounded text-xs font-medium">MOYEN</span>
                  <h3 class="font-semibold text-gray-800">Usure des plinthes</h3>
                </div>
                <p class="text-gray-600 text-sm mb-3">Traces d'usure et petites éraflures sur les plinthes côté entrée. État acceptable mais à surveiller.</p>
                <div class="flex items-center space-x-4 text-xs text-gray-500">
                  <span><i class="fa-solid fa-map-marker-alt mr-1"></i>Côté entrée</span>
                  <span><i class="fa-solid fa-calendar mr-1"></i>15 nov 2024</span>
                  <span><i class="fa-solid fa-camera mr-1"></i>2 photos</span>
                </div>
              </div>
              <div class="flex space-x-2">
                <button class="text-blue-600 hover:text-blue-800 p-1">
                  <i class="fa-solid fa-edit"></i>
                </button>
                <button class="text-red-600 hover:text-red-800 p-1">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="photos-section" class="bg-white rounded-2xl border border-gray-200 shadow-lg p-6">
        <div class="flex items-center justify-between mb-6">
          <h2 class="text-2xl font-bold text-gray-800">Photos de la pièce</h2>
          <button class="gradient-bg text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all duration-300 text-sm">
            <i class="fa-solid fa-camera mr-2"></i>
            Ajouter des photos
          </button>
        </div>

        <div class="grid grid-cols-3 gap-4">
          <div class="relative group">
            <img class="w-full h-32 object-cover rounded-lg" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/fca16074ad-b2ee0681ff949b3eca21.png" alt="modern living room interior wide angle view" />
            <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 rounded-lg flex items-center justify-center">
              <div class="opacity-0 group-hover:opacity-100 transition-all duration-300 flex space-x-2">
                <button class="bg-white text-gray-800 p-2 rounded-lg hover:bg-gray-100">
                  <i class="fa-solid fa-eye"></i>
                </button>
                <button class="bg-white text-gray-800 p-2 rounded-lg hover:bg-gray-100">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
            <span class="absolute bottom-2 left-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded">Vue générale</span>
          </div>

          <div class="relative group">
            <img class="w-full h-32 object-cover rounded-lg" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/d8574349c4-1db18ffee9c5039a70f8.png" alt="wall crack damage close up photo" />
            <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 rounded-lg flex items-center justify-center">
              <div class="opacity-0 group-hover:opacity-100 transition-all duration-300 flex space-x-2">
                <button class="bg-white text-gray-800 p-2 rounded-lg hover:bg-gray-100">
                  <i class="fa-solid fa-eye"></i>
                </button>
                <button class="bg-white text-gray-800 p-2 rounded-lg hover:bg-gray-100">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
            <span class="absolute bottom-2 left-2 bg-red-600 text-white text-xs px-2 py-1 rounded">Défaut</span>
          </div>

          <div class="relative group">
            <img class="w-full h-32 object-cover rounded-lg" src="https://storage.googleapis.com/uxpilot-auth.appspot.com/9839945517-4017f3b82e7497d4a776.png" alt="room corner baseboards wear damage" />
            <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 rounded-lg flex items-center justify-center">
              <div class="opacity-0 group-hover:opacity-100 transition-all duration-300 flex space-x-2">
                <button class="bg-white text-gray-800 p-2 rounded-lg hover:bg-gray-100">
                  <i class="fa-solid fa-eye"></i>
                </button>
                <button class="bg-white text-gray-800 p-2 rounded-lg hover:bg-gray-100">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            </div>
            <span class="absolute bottom-2 left-2 bg-yellow-600 text-white text-xs px-2 py-1 rounded">Usure</span>
          </div>

          <div class="border-2 border-dashed border-gray-300 rounded-lg h-32 flex items-center justify-center hover:border-orange-400 hover:bg-orange-50 transition-all duration-300 cursor-pointer">
            <div class="text-center">
              <i class="fa-solid fa-plus text-gray-400 text-2xl mb-2"></i>
              <p class="text-gray-500 text-sm">Ajouter une photo</p>
            </div>
          </div>

          <div class="border-2 border-dashed border-gray-300 rounded-lg h-32 flex items-center justify-center hover:border-orange-400 hover:bg-orange-50 transition-all duration-300 cursor-pointer">
            <div class="text-center">
              <i class="fa-solid fa-plus text-gray-400 text-2xl mb-2"></i>
              <p class="text-gray-500 text-sm">Ajouter une photo</p>
            </div>
          </div>

          <div class="border-2 border-dashed border-gray-300 rounded-lg h-32 flex items-center justify-center hover:border-orange-400 hover:bg-orange-50 transition-all duration-300 cursor-pointer">
            <div class="text-center">
              <i class="fa-solid fa-plus text-gray-400 text-2xl mb-2"></i>
              <p class="text-gray-500 text-sm">Ajouter une photo</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
