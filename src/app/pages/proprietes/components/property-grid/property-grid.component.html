<section id="properties-grid" class="bg-gradient-to-b from-white to-orange-50/30 py-12 sm:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 sm:mb-12 gap-4">
            <div class="text-gray-700">
                <span class="font-semibold">{{ totalProperties }} propriétés</span> trouvées
            </div>

            <div class="flex items-center space-x-4">
                <button
                    class="p-3 border-2 rounded-xl transition-colors"
                    [class]="viewMode === 'grid' ? 'border-orange-500' : 'border-orange-200 hover:border-orange-500'"
                    (click)="onToggleViewMode()"
                >
                    <i class="fa-solid fa-th-large text-orange-500"></i>
                </button>
                <button
                    class="p-3 border-2 rounded-xl transition-colors"
                    [class]="viewMode === 'list' ? 'border-orange-500' : 'border-gray-200 hover:border-orange-500'"
                    (click)="onToggleViewMode()"
                >
                    <i class="fa-solid fa-list text-gray-400"></i>
                </button>
            </div>
        </div>

        @if (viewMode === 'grid') {
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 mb-8">
                @for (property of paginatedProperties; track property.id) {
                    <app-property-card
                        [property]="property"
                        [viewMode]="viewMode"
                        (toggleFavorite)="onToggleFavorite($event)"
                        (viewDetails)="onViewDetails($event)"
                    ></app-property-card>
                }
            </div>
        } @else {
            <!-- List view -->
            <div class="space-y-6 mb-8">
                @for (property of paginatedProperties; track property.id) {
                    <app-property-card
                        [property]="property"
                        [viewMode]="viewMode"
                        (toggleFavorite)="onToggleFavorite($event)"
                        (viewDetails)="onViewDetails($event)"
                    ></app-property-card>
                }
            </div>
        }

        <!-- Pagination -->
        @if (totalPages > 1) {
            <app-pagination
                [currentPage]="currentPage"
                [totalPages]="totalPages"
                [itemsPerPage]="itemsPerPage"
                [totalItems]="totalProperties"
                (pageChange)="onPageChange($event)"
            ></app-pagination>
        }
    </div>
</section>
